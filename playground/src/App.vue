<script setup lang="ts">
import { useDark, useLocalStorage } from '@vueuse/core'
import Builder from './components/Builder.vue'
import DefaultDemo from './components/DefaultDemo.vue'
import WebComponentDemo from './components/WebComponentDemo.vue'

const input = useLocalStorage('identicon', 'nimiq')
const isDark = useDark()
const view = useLocalStorage('view', 'default')
</script>

<template>
  <header flex="~ items-center justify-between" mx-auto max-w-1400 w-full px-32 py-20>
    <a href="/" flex="~ items-center gap-8" un-text-neutral w-180>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 100 12"><path fill="currentColor" d="M52.837 9.243V2.898h.558v6.345h-.558Zm4.465.072c-.402 0-.753-.093-1.053-.279a1.816 1.816 0 0 1-.693-.801c-.162-.348-.243-.765-.243-1.251 0-.486.08-.9.243-1.242.162-.348.393-.615.693-.801a1.91 1.91 0 0 1 1.053-.288c.414 0 .77.108 1.07.324.307.21.51.501.613.873h-.108V2.619h.549v6.624h-.54V8.109h.099a1.547 1.547 0 0 1-.612.891c-.3.21-.657.315-1.071.315Zm.072-.468c.456 0 .822-.159 1.098-.477.282-.318.423-.78.423-1.386 0-.606-.141-1.068-.423-1.386-.276-.318-.642-.477-1.098-.477-.456 0-.822.159-1.098.477-.27.318-.405.78-.405 1.386 0 .606.135 1.068.405 1.386.276.318.642.477 1.098.477Zm6.109.468c-.684 0-1.227-.204-1.629-.612-.396-.408-.594-.975-.594-1.701 0-.48.087-.894.261-1.242.18-.348.429-.618.747-.81a2.05 2.05 0 0 1 1.107-.297c.402 0 .741.087 1.017.261.276.168.489.411.639.729.15.312.225.684.225 1.116v.252h-3.6v-.396h3.258l-.153.117c0-.51-.117-.909-.351-1.197-.234-.294-.582-.441-1.044-.441-.492 0-.876.171-1.152.513-.276.336-.414.783-.414 1.341v.063c0 .6.147 1.056.441 1.368.3.312.717.468 1.251.468.276 0 .534-.042.774-.126.24-.084.471-.228.693-.432l.225.405a1.901 1.901 0 0 1-.747.459 2.845 2.845 0 0 1-.954.162Zm3.582-.072V5.742a6.948 6.948 0 0 0-.072-1.008h.54l.08 1.035h-.107c.132-.36.345-.636.639-.828a1.834 1.834 0 0 1 1.026-.288c.534 0 .936.141 1.206.423.276.282.414.723.414 1.323v2.844h-.55V6.444c0-.462-.092-.795-.278-.999-.186-.21-.474-.315-.864-.315-.456 0-.82.138-1.09.414-.263.276-.395.648-.395 1.116v2.583h-.55Zm7.29.072c-.401 0-.71-.12-.926-.36-.21-.24-.315-.609-.315-1.107V5.175h-.9v-.441h.9v-1.26l.549-.18v1.44h1.332v.441h-1.332v2.592c0 .378.06.651.18.819.12.168.312.252.576.252a1.435 1.435 0 0 0 .558-.117v.486c-.072.03-.165.054-.28.072a1.656 1.656 0 0 1-.341.036Zm2.205-.072V4.734h.55v4.509h-.55Zm-.09-5.616v-.684h.738v.684h-.738Zm4.586 5.688c-.426 0-.798-.093-1.116-.279a1.92 1.92 0 0 1-.738-.819c-.168-.354-.252-.774-.252-1.26s.087-.9.26-1.242c.175-.348.418-.612.73-.792.318-.18.69-.27 1.116-.27.288 0 .564.054.828.162.27.108.492.258.666.45l-.225.405a1.752 1.752 0 0 0-.603-.405 1.673 1.673 0 0 0-.648-.135c-.492 0-.876.156-1.152.468-.276.312-.414.768-.414 1.368 0 .6.138 1.065.414 1.395.276.324.66.486 1.152.486.204 0 .414-.042.63-.126.222-.084.429-.222.62-.414l.226.405c-.18.192-.408.342-.684.45-.27.102-.54.153-.81.153Zm4.927 0c-.426 0-.795-.093-1.107-.279a1.853 1.853 0 0 1-.711-.801c-.168-.348-.252-.765-.252-1.251 0-.48.084-.894.252-1.242.168-.348.405-.615.71-.801.313-.192.682-.288 1.108-.288.42 0 .783.096 1.089.288.312.186.552.453.72.801.174.348.26.762.26 1.242 0 .486-.086.903-.26 1.251a1.835 1.835 0 0 1-.72.801c-.306.186-.67.279-1.09.279Zm0-.468c.456 0 .822-.159 1.098-.477.276-.318.414-.78.414-1.386 0-.606-.138-1.068-.414-1.386-.276-.318-.642-.477-1.098-.477-.462 0-.831.159-1.107.477-.27.318-.405.78-.405 1.386 0 .606.135 1.068.405 1.386.276.318.645.477 1.107.477Zm3.902.396V5.742a6.948 6.948 0 0 0-.072-1.008h.54l.08 1.035h-.107c.132-.36.345-.636.639-.828a1.834 1.834 0 0 1 1.026-.288c.534 0 .936.141 1.206.423.276.282.414.723.414 1.323v2.844h-.55V6.444c0-.462-.092-.795-.278-.999-.186-.21-.474-.315-.864-.315-.456 0-.82.138-1.09.414-.263.276-.395.648-.395 1.116v2.583h-.55Zm7.29.072c-.347 0-.674-.051-.98-.153a2.098 2.098 0 0 1-.747-.423l.216-.405c.222.18.462.315.72.405a2.6 2.6 0 0 0 .81.126c.384 0 .675-.072.873-.216a.686.686 0 0 0 .297-.585.617.617 0 0 0-.19-.468c-.125-.12-.335-.21-.63-.27l-.81-.171c-.383-.09-.671-.234-.863-.432a1.048 1.048 0 0 1-.28-.747c0-.258.067-.486.199-.684.138-.198.333-.354.585-.468.252-.114.549-.171.89-.171.325 0 .622.054.892.162.276.102.5.249.675.441l-.234.396a1.787 1.787 0 0 0-.612-.405 1.874 1.874 0 0 0-.711-.135c-.372 0-.654.078-.846.234a.726.726 0 0 0-.288.603c0 .192.06.351.18.477.12.12.309.21.567.27l.81.18c.408.09.71.228.909.414.198.186.297.432.297.738 0 .264-.072.495-.216.693a1.354 1.354 0 0 1-.603.441 2.465 2.465 0 0 1-.91.153Z" /><path fill="url(#a)" d="M12.237 5.356 9.658.887a1.034 1.034 0 0 0-.893-.516H3.608c-.368 0-.708.196-.892.516L.138 5.356c-.184.32-.184.711 0 1.031l2.578 4.469c.184.32.524.515.892.515h5.157c.367 0 .708-.196.892-.515l2.578-4.469c.186-.32.186-.711.002-1.031Z" /><path fill="url(#b)" d="M12.237 5.356 9.658.887a1.034 1.034 0 0 0-.893-.516H3.608c-.368 0-.708.196-.892.516L.138 5.356c-.184.32-.184.711 0 1.031l2.578 4.469c.184.32.524.515.892.515h5.157c.367 0 .708-.196.892-.515l2.578-4.469c.186-.32.186-.711.002-1.031Z" /><path fill="currentColor" d="M21.398 2.606h1.12v6.531h-.862l-3.524-4.555v4.555h-1.117V2.606h.86l3.523 4.555V2.606ZM24.75 9.137V2.606h1.202v6.531H24.75ZM33.601 2.606h.946v6.531h-1.032V5.098l-1.762 4.04h-.773l-1.762-4.04v4.04h-1.031V2.605h.945l2.235 5.113L33.6 2.606ZM36.781 9.137V2.606h1.203v6.531h-1.203ZM46.021 7.649a2.72 2.72 0 0 1-1.378 1.304c.056.13.323.495.524.705.201.21.412.423.68.64l-.816.644c-.3-.21-.562-.46-.828-.753a5.474 5.474 0 0 1-.7-.975c-.05.004-.189.009-.277.009-.665 0-1.22-.136-1.7-.406a2.678 2.678 0 0 1-1.098-1.168c-.232-.463-.381-1.08-.381-1.778 0-.697.129-1.268.385-1.777a2.718 2.718 0 0 1 1.103-1.168c.48-.272 1.04-.406 1.691-.406.652 0 1.22.136 1.7.406.48.271.846.66 1.099 1.168.254.509.381 1.08.381 1.777 0 .698-.153 1.317-.385 1.778Zm-4.25.005c.347.416.831.624 1.455.624.624 0 1.11-.208 1.456-.624.347-.418.521-1.006.521-1.783 0-.771-.174-1.373-.52-1.785-.348-.413-.833-.62-1.457-.62-.623 0-1.11.204-1.455.615-.348.41-.521 1.014-.521 1.79 0 .777.173 1.365.52 1.783Z" /><defs><radialGradient id="a" cx="0" cy="0" r="1" gradientTransform="matrix(12.3785 0 0 12.3782 9.309 11.228)" gradientUnits="userSpaceOnUse"><stop stop-color="#EC991C" /><stop offset="1" stop-color="#E9B213" /></radialGradient><radialGradient id="b" cx="0" cy="0" r="1" gradientTransform="matrix(12.3785 0 0 12.3782 9.309 11.228)" gradientUnits="userSpaceOnUse"><stop stop-color="#EC991C" /><stop offset="1" stop-color="#E9B213" /></radialGradient></defs></svg>
    </a>
    <div flex="~ items-center gap-24">
      <input v-model="isDark" type="checkbox" nq-switch style="--active-color: rgb(var(--nq-neutral-400))">
      <a href="https://github.com/onmax/nimiq-identicons" target="_blank" rel="noopener noreferrer" f-text-lg un-text="neutral-900 hocus:neutral">
        <div i-nimiq:logos-github-mono />
      </a>
    </div>
  </header>
  <main flex="~ col justify-center items-center" mx-auto max-w-1400 px-32>
    <h1 lh-none f-text-xl f-mt-md>
      Nimiq Identicons Playground
    </h1>

    <div flex="~ gap-8" f-my-md>
      <button
        :class="{ active: view === 'default' }"
        nq-pill-tertiary
        @click="view = 'default'"
      >
        Default
      </button>
      <button
        nq-pill-tertiary
        :class="{ active: view === 'builder' }"
        @click="view = 'builder'"
      >
        Builder
      </button>
      <button
        nq-pill-tertiary
        :class="{ active: view === 'web-component' }"
        @click="view = 'web-component'"
      >
        Web Component
      </button>
    </div>

    <WebComponentDemo v-if="view === 'web-component'" v-model="input" />
    <Builder v-if="view === 'builder'" :input="input" />
    <DefaultDemo v-if="view === 'default'" :input="input" />
  </main>
</template>

<style>
.nq-button-s.active {
  background: rgb(var(--nq-blue));
  color: white;
}
</style>
